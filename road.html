<!DOCTYPE html>
<html>
  <body>
    <canvas id="myCanvas" width="400"
	    height="600" style = "border:1px solid #000000;">
      your browser does not support the html5 canvas tag
    </canvas>
    <script>
      var canvas  = document.getElementById("myCanvas");
      var grass = canvas.getContext("2d");
      grass.fillStyle = "#66cc00";
      grass.fillRect(0,0,400,600);
      function drawRoad(oldRoad, newBend){

	var ctx = canvas.getContext("2d");
	ctx.beginPath();
	ctx.arc(100, 75, 50, 0, 2 * Math.PI);
	ctx.stroke();

      	oldRoad.translate(0,40);
      }
      
      function animate(oldRoad){
        // update
        var time = (new Date()).getTime() - startTime;

        var linearSpeed = 100;
        // pixels / second
        var newX = linearSpeed * time / 1000;

        if(newX < canvas.width - myRectangle.width - myRectangle.borderWidth / 2) {
          myRectangle.x = newX;
        }

        // clear
        road.clearRect(0, 0, canvas.width, canvas.height);

        drawRoad(oldRoad, newBend);

        // request new frame
        requestAnimFrame(function() {
          animate(oldRoad);
        });
      }
    
      var road = canvas.getContext("2d");
      road.fillStyle = "#F8A757";
      road.beginPath();
	//var locs = { 
      road.moveTo(100,0);
      road.lineTo(150,400);
      road.lineTo(100,600);
      road.lineTo(300,600);
      road.lineTo(350,400);
      road.lineTo(300,0);
      road.lineTo(100,0);
      road.closePath();
      road.fill();
	drawRoad(road,0);
	// wait one second before starting animation
      setTimeout(function() {
        var startTime = (new Date()).getTime();
        animate(myRectangle, canvas, context, startTime);
      }, 1000);
      //road.stroke();
     </script>
    
  </body>
</htlsml>
